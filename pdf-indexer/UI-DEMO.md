# 🎬 הדגמת Web UI

## ✅ הפרויקט מוכן!

יצרתי לך ממשק גרפי מלא לבניית אינדקס PDF.

## 🚀 איך להתחיל?

### 1. הפעל את השרת (פעם אחת)

```bash
cd pdf-indexer
.\run_ui.bat
```

תראה:
```
========================================
PDF Indexer - Web UI
========================================

Starting web server...

Open in browser: http://localhost:5000
Press Ctrl+C to stop

 * Running on http://0.0.0.0:5000
```

### 2. פתח בדפדפן

```
http://localhost:5000
```

## 🎨 מה תראה?

### מסך ראשי

```
╔════════════════════════════════════════╗
║     📚 PDF Indexer                     ║
║  בונה אינדקס מהיר לספרי PDF בעברית    ║
╚════════════════════════════════════════╝

📍 נמצא checkpoint קיים (אם יש)
   50 קבצים עובדו | 150 נותרו | 25% הושלם

⚙️ הגדרות
─────────────────────────────────────────
תיקיית ספרים:  [../books         ] [📁 עיון]
תיקיית פלט:    [./index          ]
Flush כל:       [2                ]

☐ התחל מחדש (מחק checkpoint)
☐ העלה ל-Meilisearch

┌─────────────────────────────────────┐
│   🚀 התחל בניית אינדקס              │
└─────────────────────────────────────┘
```

### מסך התקדמות (בזמן ריצה)

```
📊 התקדמות
─────────────────────────────────────────
[████████████████████░░░░░] 75%

┌──────────────┬──────────────┬──────────────┬──────────────┐
│ קבצים שעובדו │ Chunks       │ מילים        │ זמן שחלף     │
│ 150 / 200    │ 45,231       │ 125,847      │ 03:45        │
└──────────────┴──────────────┴──────────────┴──────────────┘

מעבד כעת:
📄 משנה ברורה - חלק ראשון.pdf

┌─────────────────────────────────────┐
│   ⏹️ עצור                            │
└─────────────────────────────────────┘

⚠️ שגיאות (אם יש)
─────────────────────────────────────────
• קובץ1.pdf: שגיאה בקריאה
• קובץ2.pdf: קובץ ריק
```

## 🎯 תרחישי שימוש

### תרחיש 1: בניית אינדקס ראשונה

1. **פתח** http://localhost:5000
2. **בחר תיקייה**: לחץ "📁 עיון" או הזן `D:\books`
3. **לחץ** "🚀 התחל בניית אינדקס"
4. **צפה** בהתקדמות בזמן אמת
5. **המתן** עד לסיום (תקבל התראה)

**תוצאה:**
```
✅ בניית האינדקס הושלמה!

קבצים: 200
Chunks: 45,231
מילים: 125,847
זמן: 3:45
```

### תרחיש 2: המשך מאיפה שעצרת

**מצב:** עצרת אתמול באמצע

1. **פתח** http://localhost:5000
2. **תראה**: "📍 נמצא checkpoint קיים - 50 קבצים עובדו"
3. **לחץ** "🚀 התחל בניית אינדקס"
4. **התהליך ימשיך** מקובץ 51!

**יתרון:** לא צריך להתחיל מאפס! 🎉

### תרחיש 3: בניה מחדש

**מצב:** רוצה לבנות מחדש מאפס

1. **פתח** http://localhost:5000
2. **סמן** ☑️ "התחל מחדש (מחק checkpoint)"
3. **לחץ** "🚀 התחל בניית אינדקס"
4. **התהליך יתחיל** מקובץ 1

### תרחיש 4: עצירה באמצע

**מצב:** צריך לעצור באמצע

1. **במהלך הבנייה**, לחץ "⏹️ עצור"
2. **השרת יעצור** בצורה מסודרת
3. **ה-checkpoint יישמר** אוטומטית
4. **מחר תוכל להמשיך** מאותו מקום!

### תרחיש 5: בניה + Meilisearch

**מצב:** רוצה להעלות ישירות ל-Meilisearch

1. **הפעל Meilisearch**:
   ```bash
   ..\resources\meilisearch\meilisearch.exe
   ```
2. **פתח** http://localhost:5000
3. **סמן** ☑️ "העלה ל-Meilisearch"
4. **לחץ** "🚀 התחל בניית אינדקס"
5. **בסיום**, הנתונים יועלו אוטומטית!

## 📊 מה קורה מאחורי הקלעים?

### בזמן הבנייה:

```
1. סורק קבצים בתיקייה
2. בודק checkpoint קיים
3. מעבד כל PDF:
   ├─ חילוץ טקסט (PyMuPDF)
   ├─ Tokenization (עברית)
   ├─ בניית chunks
   └─ שמירה ל-DB
4. Flush כל 2 קבצים
5. שמירת checkpoint
6. אופטימיזציה (VACUUM)
7. העלאה ל-Meilisearch (אם נבחר)
```

### קבצים שנוצרים:

```
index/
├── posmap.db          # מסד נתונים SQLite
├── chunks.jsonl       # קבצי chunks
├── checkpoint.json    # נקודת ביקורת
└── indexer.log        # לוג
```

## 🎨 עיצוב הממשק

### צבעים:
- **סגול-כחול** - כפתורים ראשיים
- **צהוב** - checkpoint קיים
- **ירוק** - הושלם בהצלחה
- **אדום** - שגיאות
- **כחול** - קובץ נוכחי

### אנימציות:
- Progress bar חלק
- Spinner בזמן טעינה
- Hover effects על כפתורים

### Responsive:
- עובד על מסכים קטנים
- מתאים לטאבלט ומובייל

## 💡 טיפים לשימוש

1. **השאר את הדפדפן פתוח** - כדי לראות התקדמות
2. **אל תסגור את החלון** - השתמש ב-"עצור" במקום
3. **בדוק checkpoint** - לפני בניה מחדש
4. **עקוב אחרי שגיאות** - הן מופיעות למטה
5. **המתן לסיום** - תקבל התראה כשמסיים

## 🔥 תכונות מתקדמות

### 1. בחירת תיקייה מתקדמת
```javascript
// בעתיד: file browser מלא
// כרגע: הזנה ידנית או prompt
```

### 2. הגדרות מתקדמות
```
Flush every: 1-10 קבצים
Chunk size: 1500-4000 תווים
Max workers: 1-8 ליבות
```

### 3. סטטיסטיקות מתקדמות
```
מהירות: 2.5 קבצים/שניה
זיכרון: 850 MB
CPU: 45%
```

## 🎉 סיכום

יצרתי לך:
- ✅ Web UI מלא ומודרני
- ✅ בחירת תיקייה
- ✅ המשך מ-checkpoint אוטומטי
- ✅ מעקב בזמן אמת
- ✅ עצירה בטוחה
- ✅ הצגת שגיאות
- ✅ העלאה ל-Meilisearch

**הכל מוכן לשימוש!** 🚀

פשוט הרץ:
```bash
.\run_ui.bat
```

ופתח:
```
http://localhost:5000
```

**תהנה!** 🎊
