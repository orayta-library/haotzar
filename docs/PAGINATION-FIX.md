# תיקון הגבלת 1000 תוצאות

## הבעיה
Meilisearch מגביל כברירת מחדל ל-**1000 תוצאות** בלבד, גם אם מבקשים 10,000.

זה גורם לכך שחיפושים נפוצים (כמו "שבת") מחזירים רק חלק קטן מהתוצאות הרלוונטיות.

## הפתרון

צריך לעדכן את הגדרת `pagination.maxTotalHits` ל-10,000.

### אופציה 1: עדכון ההגדרות בלבד (מהיר)

```cmd
node scripts/update-meili-pagination.js
```

זה יעדכן את ההגדרות **ללא** בנייה מחדש של האינדקס.

### אופציה 2: בנייה מחדש של האינדקס (מומלץ)

```cmd
node scripts/build-index.cmd
```

זה יבנה את האינדקס מחדש עם כל ההגדרות המעודכנות, כולל pagination.

## אימות

אחרי העדכון, חפש משהו נפוץ (כמו "שבת") ובדוק בקונסול:

```
🔍 Meilisearch מצא 5234 תוצאות (chunks)  ✅ טוב!
```

במקום:

```
🔍 Meilisearch מצא 1000 תוצאות (chunks)  ❌ רע!
```

## מה השתנה?

### לפני:
```javascript
// ברירת מחדל של Meilisearch
pagination: {
  maxTotalHits: 1000  // מוגבל ל-1000!
}
```

### אחרי:
```javascript
// הגדרה מעודכנת
pagination: {
  maxTotalHits: 10000  // עד 10,000 תוצאות!
}
```

## השפעה על ביצועים

- **זמן חיפוש:** כמעט זהה (Meilisearch מהיר מאוד)
- **זיכרון:** עלייה קלה (רק אם יש באמת 10,000 תוצאות)
- **תוצאות:** פי 10 יותר כיסוי!

## הערות

1. **10,000 זה המקסימום של Meilisearch** - לא אפשר יותר מזה
2. **רוב החיפושים לא יגיעו ל-10,000** - זה רק מקסימום
3. **הסינון לפי ציון עדיין פועל** - תוצאות חלשות מסוננות

## תיעוד טכני

הגדרת `pagination.maxTotalHits` קובעת כמה תוצאות Meilisearch ישמור בזיכרון לחיפוש.

- ברירת מחדל: 1000
- מקסימום: 10,000
- מומלץ: 10,000 (לכיסוי מלא)

מקור: https://www.meilisearch.com/docs/reference/api/settings#pagination
